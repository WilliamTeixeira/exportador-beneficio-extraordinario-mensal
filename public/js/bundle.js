!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.r(t);var r=function(){function e(t,n,a,r,o,i,c,u,s,l,d,p,f,y,m,h,v,b,g){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id,this._name=t,this._birth=n,this._namemother=a,this._admissiondate=r,this._cpf=o,this._pispasep=i,this._accessiontype=c,this._agreementdate=u,this._percent=s,this._dayslong=l,this._bankcode=d,this._bankagency=p,this._dvbankagency=f,this._accountbank=y,this._dvaccountbank=m,this._accountype=h,this._lastsalary=v,this._penultimatesalary=b,this._prepenultimatepalary=g}var t,n,r;return t=e,r=[{key:"getEmployeesStorage",value:function(){var e=[];return localStorage.getItem("employees")&&(e=JSON.parse(localStorage.getItem("employees"))),e}}],(n=[{key:"loadFromJSON",value:function(e){for(var t in e)this[t]=e[t]}},{key:"getNewID",value:function(){var e=parseInt(localStorage.getItem("employeeID"));return!e>0&&(e=0),e++,localStorage.setItem("employeeID",e),e}},{key:"save",value:function(){var t=this,n=e.getEmployeesStorage();this.id>0?n.map((function(e){return e._id==t.id&&Object.assign(e,t),e})):(this.id=this.getNewID(),n.push(this)),localStorage.setItem("employees",JSON.stringify(n))}},{key:"remove",value:function(){var t=this,n=e.getEmployeesStorage();n.forEach((function(e,a){t._id==e._id&&n.splice(a,1)})),localStorage.setItem("employees",JSON.stringify(n))}},{key:"admissiondate",get:function(){return this._admissiondate},set:function(e){this._admissiondate=e}},{key:"cpf",get:function(){return this._cpf},set:function(e){this._cpf=e}},{key:"pispasep",get:function(){return this._pispasep},set:function(e){this._pispasep=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"namemother",get:function(){return this._namemother},set:function(e){this._namemother=e}},{key:"birth",get:function(){return this._birth},set:function(e){this._birth=e}},{key:"accessiontype",get:function(){return this._accessiontype},set:function(e){this._accessiontype=e}},{key:"agreementdate",get:function(){return this._agreementdate},set:function(e){this._agreementdate=e}},{key:"percent",get:function(){return this._percent},set:function(e){this._percent=e}},{key:"dayslong",get:function(){return this._dayslong},set:function(e){this._dayslong=e}},{key:"bankcode",get:function(){return this._bankcode},set:function(e){this._bankcode=e}},{key:"bankagency",get:function(){return this._bankagency},set:function(e){this._bankagency=e}},{key:"dvbankagency",get:function(){return this._dvbankagency},set:function(e){this._dvbankagency=e}},{key:"accountbank",get:function(){return this._accountbank},set:function(e){this._accountbank=e}},{key:"dvaccountbank",get:function(){return this._dvaccountbank},set:function(e){this._dvaccountbank=e}},{key:"accountype",get:function(){return this._accountype},set:function(e){this._accountype=e}},{key:"lastsalary",get:function(){return this._lastsalary},set:function(e){this._lastsalary=e}},{key:"penultimatesalary",get:function(){return this._penultimatesalary},set:function(e){this._penultimatesalary=e}},{key:"prepenultimatepalary",get:function(){return this._prepenultimatepalary},set:function(e){this._prepenultimatepalary=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}}])&&a(t.prototype,n),r&&a(t,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._registertype=t,this._cnpjcei=n,this._cno=a}var t,n,a;return t=e,(n=[{key:"loadFromForm",value:function(e){var t=this;e.forEach((function(e){"registertype"==e.name?e.checked&&(t[e.name]=e.value):t[e.name]=e.value}))}},{key:"registertype",get:function(){return this._registertype},set:function(e){this._registertype=e}},{key:"cnpjcei",get:function(){return this._cnpjcei},set:function(e){this._cnpjcei=e}},{key:"cno",get:function(){return this._cno},set:function(e){this._cno=e}}])&&o(t.prototype,n),a&&o(t,a),e}();function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"exportToCsv",value:function(t,n){var a='"Tipo Inscricao";"CNPJ/CEI";"CNO";"Data Admissao";"CPF Trabalhador";"PIS/PASEP Trabalhador";"Nome Trabalhador";"Nome Mae Trabalhador";"Data Nascimento Trabalhador";"Tipo Adesao";"Data Acordo";"Percentual Reducao Carga Horaria";"Dias Duracao";"Codigo Banco";"Agencia Bancaria";"DV Agencia Bancaria";"Conta Bancaria";"DV Conta Bancaria";"Tipo Conta";"Ultimo Salario";"Penultimo Salario";"Antepenultimo Salario"';return a+="\r\n",t.map((function(o,i){var c=new r;c.loadFromJSON(o),a+='"'+n.registertype+'";"'+e.removeFormat(n.cnpjcei)+'";"'+e.removeFormat(n.cno)+'";"'+new Date(c.admissiondate).toLocaleDateString()+'";"'+e.removeFormat(c.cpf)+'";"'+e.removeFormat(c.pispasep)+'";"'+c.name+'";"'+c.namemother+'";"'+new Date(c.birth).toLocaleDateString()+'";"'+c.accessiontype+'";"'+new Date(c.agreementdate).toLocaleDateString()+'";"'+e.removeFormat(c.percent)+'";"'+c.dayslong+'";"'+c.bankcode+'";"'+c.bankagency+'";"'+c.dvbankagency+'";"'+c.accountbank+'";"'+c.dvaccountbank+'";"'+c.accountype+'";"'+e.removeFormat(c.lastsalary)+'";"'+e.removeFormat(c.penultimatesalary)+'";"'+e.removeFormat(c.prepenultimatepalary)+'"',i!=t.length-1?a+="\r\n":a+=""})),a}},{key:"cnpjCeiFormat",value:function(e){var t=e.value.replace(/\D/g,"");t=t.length<=12?t.replace(/^(\d{2})(\d{3})(\d{5})(\d{2})/g,"$1.$2.$3/$4"):t.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"),e.value=t}},{key:"cnoFormat",value:function(e){var t=e.value.replace(/\D/g,"");t=t.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),e.value=t}},{key:"cpfFormat",value:function(e){var t=e.value.replace(/\D/g,"");t=t.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),e.value=t}},{key:"reaisFormat",value:function(e){var t=e.value.replace(/\D/g,"");t=(t=(t=(t=(t/100).toFixed(2)+"").replace(".",",")).replace(/(\d)(\d{3})(\d{3}),/g,"$1.$2.$3,")).replace(/(\d)(\d{3}),/g,"$1.$2,"),e.value=t}},{key:"removeFormat",value:function(e){return e=(e=(e=(e=e.split(".").join("")).split("/").join("")).split("-").join("")).split(",").join("")}},{key:"showDivExport",value:function(){document.querySelector("#box-export").style.display="block",document.querySelector("#box-faq").style.display="none"}},{key:"showDivFaq",value:function(){document.querySelector("#box-export").style.display="none",document.querySelector("#box-faq").style.display="block"}},{key:"scrollTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}}],(n=null)&&c(t.prototype,n),a&&c(t,a),e}();function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}new(function(){function e(t,n,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.getElementById(t),this.formUpdate=document.getElementById(n),this.table=document.getElementById(a),this.formCompany=document.getElementById(r),this.onSubmit(),this.onEdit(),this.selectAll(),this.export()}var t,n,a;return t=e,(n=[{key:"onEdit",value:function(){var e=this;document.querySelector("#box-employee-update .btn-cancel").addEventListener("click",(function(t){e.showPanelCreate()})),this.formUpdate.addEventListener("submit",(function(t){t.preventDefault();var n=e.formUpdate.querySelector("[type=submit]");n.disabled=!0;var a=e.getValues(e.formUpdate),o=e.formUpdate.dataset.trIndex,i=e.table.rows[o],c=JSON.parse(i.dataset.employee),u=Object.assign({},c,a),s=new r;s.loadFromJSON(u),s.save(),e.getTr(s,i),e.updateCount(),e.formUpdate.reset(),n.disabled=!1,e.showPanelCreate()}))}},{key:"onSubmit",value:function(){var e=this;this.form.addEventListener("submit",(function(t){t.preventDefault();var n=e.form.querySelector("[type=submit]");n.disabled=!0;var a=e.getValues(e.form);if(!a)return n.disabled=!1,!1;a.save(),e.addLine(a),e.form.reset(),n.disabled=!1}))}},{key:"getValues",value:function(e){var t={},n=!0;return s(e.elements).forEach((function(e){["name","cpf"].indexOf(e.name)>-1&&!e.value?(e.parentElement.classList.add("has-error"),n=!1):e.parentElement.classList.remove("has-error"),"accessiontype"==e.name?e.checked&&(t[e.name]=e.value):t[e.name]=e.value})),!!n&&new r(t.name,t.birth,t.namemother,t.admissiondate,t.cpf,t.pispasep,t.accessiontype,t.agreementdate,t.percent,t.dayslong,t.bankcode,t.bankagency,t.dvbankagency,t.accountbank,t.dvaccountbank,t.accountype,t.lastsalary,t.penultimatesalary,t.prepenultimatepalary)}},{key:"selectAll",value:function(){var e=this;r.getEmployeesStorage().forEach((function(t){var n=new r;n.loadFromJSON(t),e.addLine(n)}))}},{key:"addLine",value:function(e){var t=this.getTr(e);this.table.appendChild(t),this.updateCount()}},{key:"getTr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===t&&(t=document.createElement("tr")),t.dataset.employee=JSON.stringify(e),t.innerHTML="\n                <td>".concat(e.cpf,"</td>\n                <td>").concat(e.name,"</td>\n                <td>").concat(0==e.accessiontype?"Suspensão":"Redução",'</td>\n                <td>\n                    <div class="btn-group btn-group-sm" role="group">\n                        <button type="button" class="btn btn-edit btn-outline-primary"><i class="fas fa-pencil-alt"></i></button>\n                        <button type="button" class="btn btn-delete btn-outline-danger"><i class="fas fa-trash-alt"></i></button>\n                    </div>\n               </td>\n             \n        '),this.addEventsTr(t),t}},{key:"addEventsTr",value:function(e){var t=this;e.querySelector(".btn-delete").addEventListener("click",(function(n){if(confirm("Deseja realmente excluir?")){var a=new r;a.loadFromJSON(JSON.parse(e.dataset.employee)),a.remove(),e.remove(),t.updateCount()}})),e.querySelector(".btn-edit").addEventListener("click",(function(n){var a=JSON.parse(e.dataset.employee);for(var r in t.formUpdate.dataset.trIndex=e.sectionRowIndex,a){var o=t.formUpdate.querySelector("[name=".concat(r.replace("_",""),"]"));if(o)switch(o.type){case"file":continue;case"radio":(o=t.formUpdate.querySelector("[name=".concat(r.replace("_",""),"][value='").concat(a[r],"']"))).checked=!0;break;case"checkbox":o.checked=a[r];break;default:o.value=a[r]}}t.showPanelUpdate()}))}},{key:"showPanelCreate",value:function(){document.querySelector("#box-employee-create").style.display="block",document.querySelector("#box-employee-update").style.display="none"}},{key:"showPanelUpdate",value:function(){document.querySelector("#box-employee-create").style.display="none",document.querySelector("#box-employee-update").style.display="block"}},{key:"updateCount",value:function(){var e=0;s(this.table.children).forEach((function(t){e++})),document.querySelector("#number-employee").innerHTML=e}},{key:"export",value:function(){var e=this,t=this.formCompany.querySelector("a");t.onclick=function(){var n=new i;n.loadFromForm(e.formCompany.querySelectorAll("input"));var a=r.getEmployeesStorage(),o=u.exportToCsv(a,n),c="data:text/csv;charset=utf-8,";c+=encodeURI(o),t.setAttribute("href",c),t.setAttribute("download","arquivo_bem.csv")}}}])&&d(t.prototype,n),a&&d(t,a),e}())("form-employee-create","form-employee-update","list-employee","box-company"),document.getElementById("scrolltop").onclick=u.scrollTop,document.getElementById("divexport").onclick=u.showDivExport,document.getElementById("divfaq").onclick=u.showDivFaq;var p=document.getElementById("inputCnpjCei");p.onkeyup=function(){return u.cnpjCeiFormat(p)};var f=document.getElementById("inputCNO");f.onkeyup=function(){return u.cnoFormat(f)},document.querySelectorAll(".inputCpf").forEach((function(e){e.onkeyup=function(){return u.cpfFormat(e)}})),document.querySelectorAll(".inputLastSalary").forEach((function(e){e.onkeyup=function(){return u.reaisFormat(e)}})),document.querySelectorAll(".inputPenultimateSalary").forEach((function(e){e.onkeyup=function(){return u.reaisFormat(e)}})),document.querySelectorAll(".inputPrePenultimateSalary").forEach((function(e){e.onkeyup=function(){return u.reaisFormat(e)}}))}]);